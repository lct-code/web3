import{r as m,aY as ke,bt as Se,h as ee,s as tt,j as a,c as E,A as st,bX as nt,n as rt,bR as Oe,av as ot,J as le,ak as it,f as at,$ as Pe,bY as we,aP as lt,bZ as je,d as ct,a as Q,bF as ut,q as de,t as he,w as me,I as ce,L as dt,a4 as Fe,aW as Ne,aF as fe,o as ht,at as mt,a9 as ft,p as Ee,T as k,m as se,ax as ge,U as pe,W as be,V as De,a1 as Re,X as _e,Y as ne,x as $e,v as Le,y as Ae,H as Be,B as te,ao as gt}from"./main-96dd97cc.js";import{A as pt,Q as Ke,a4 as bt,a5 as vt,K as xt,a as yt,c as Me}from"./play-arrow-filled-f553fd07.js";const Ue=m.createContext(null);function It(t=!1){m.useEffect(()=>(t?document.documentElement.classList.remove("no-page-overflow"):document.documentElement.classList.add("no-page-overflow"),()=>{document.documentElement.classList.remove("no-page-overflow")}),[t])}function cs({children:t,leftSidenavStatus:r,onLeftSidenavChange:e,rightSidenavStatus:s,initialRightSidenavStatus:n,onRightSidenavChange:o,name:i,leftSidenavCanBeCompact:l,height:u="h-screen",className:f,gridClassName:d="dashboard-grid",blockBodyOverflow:h=!0,...g}){It(!h);const p=ke("(max-width: 1024px)"),I=m.useMemo(()=>i?Se(`${i}.sidenav.compact`):!1,[i])?"compact":"open",[j,S]=ee(r,p?"closed":I,e),w=m.useMemo(()=>{if(p)return"closed";if(n!=null)return n;const M=Se(`${i}.sidenav.right.position`,"open");return M??(n||"closed")},[p,i,n]),[b,N]=ee(s,w,o),y=m.useCallback(M=>{N(M),tt(`${i}.sidenav.right.position`,M)},[N,i]),R=p&&(j==="open"||b==="open");return a.jsx(Ue.Provider,{value:{leftSidenavStatus:j,setLeftSidenavStatus:S,rightSidenavStatus:b,setRightSidenavStatus:y,leftSidenavCanBeCompact:l,name:i,isMobileMode:p},children:a.jsxs("div",{...g,className:E("relative isolate",d,f,u),children:[t,a.jsx(st,{children:R&&a.jsx(nt,{position:"fixed",onClick:()=>{S("closed"),y("closed")}},"dashboard-underlay")})]})})}function us({children:t,isScrollable:r=!0}){return m.cloneElement(t,{className:E(t.props.className,r&&"overflow-y-auto stable-scrollbar","dashboard-grid-content")})}function ds({className:t,position:r,children:e,size:s="md",mode:n,overlayPosition:o="fixed",display:i="flex",overflow:l="overflow-hidden",forceClosed:u=!1}){const{isMobileMode:f,leftSidenavStatus:d,setLeftSidenavStatus:h,rightSidenavStatus:g,setRightSidenavStatus:p}=m.useContext(Ue),v=r==="left"?d:g,I=f||n==="overlay",j={open:{display:i,width:null},compact:{display:i,width:null},closed:{width:0,transitionEnd:{display:"none"}}},S=St(v==="compact"?"compact":s);return a.jsx(rt.div,{variants:j,initial:!1,animate:u?"closed":v,transition:{type:"tween",duration:.15},onClick:w=>{const b=w.target;f&&(b.closest("button")||b.closest("a"))&&(h("closed"),p("closed"))},className:E(t,r==="left"?"dashboard-grid-sidenav-left":"dashboard-grid-sidenav-right","will-change-[width]",l,S,I&&`${o} bottom-0 top-0 z-20 shadow-2xl`,I&&r==="left"&&"left-0",I&&r==="right"&&"right-0"),children:m.cloneElement(e,{className:E(e.props.className,"w-full h-full",v==="compact"&&"compact-scrollbar"),isCompactMode:v==="compact"})})}function St(t){switch(t){case"compact":return"w-80";case"sm":return"w-224";case"md":return"w-240";case"lg":return"w-288";default:return t||""}}const Z="filters";function wt(t){if(!t)return[];let r=[];try{r=JSON.parse(atob(decodeURIComponent(t))),r.map(e=>(e.valueKey!=null&&(e.value=e.valueKey),e))}catch{}return r}function jt(t,r){return!t||(t=r?t.filter(e=>e.value!=="").map(e=>Et(e,r)):t,t=t.filter(e=>!e.isInactive),!t.length)?"":encodeURIComponent(btoa(JSON.stringify(t)))}function Et(t,r){var s;const e=r.find(n=>n.key===t.key);if((e==null?void 0:e.control.type)==="select"){const n=(e.control.options||[]).find(o=>o.key===t.value);if(n)return{...t,value:n.value,valueKey:n.key}}return(s=e==null?void 0:e.extraFilters)!=null&&s.length&&(t.extraFilters=e.extraFilters),t}function Mt(t,r){const[e]=Oe(),s=ot(),n=e.get(Z),o=m.useMemo(()=>{if(!t)return[];const d=wt(n);return(r||[]).forEach(h=>{if(!d.find(g=>g.key===h)){const g=t.find(p=>p.key===h);d.push({key:h,value:g.control.defaultValue,operator:g.defaultOperator,isInactive:!0})}}),d.sort((h,g)=>t.findIndex(p=>p.key===h.key)-t.findIndex(p=>p.key===g.key)),d},[n,r,t]),i=m.useCallback(d=>{const h=[...o];return d.forEach(g=>{const p=typeof g=="object"?g.key:g,v=h.findIndex(I=>I.key===p);v>-1&&h.splice(v,1)}),h},[o]),l=m.useCallback(d=>{const h=jt(d,t);h?e.set(Z,h):e.delete(Z),s({search:`?${e}`},{replace:!0})},[t,s,e]),u=m.useCallback(d=>{const g=[...i(d),...d];l(g)},[i,l]),f=m.useCallback(d=>l(i([d])),[i,l]);return{add:u,remove:f,replaceAll:l,decodedFilters:o,encodedFilters:n}}const hs={pagination:{data:[],from:0,to:0,per_page:15,current_page:1}};function ms(t){return"next_cursor"in t?t.next_cursor!=null:"last_page"in t?t.current_page<t.last_page:t.data.length>0&&t.data.length>=t.per_page}function fs(t,r){const e=document.createElement("a");e.href=t,r&&(e.download=r),document.body.appendChild(e),e.click(),document.body.removeChild(e)}function gs({image:t,label:r,description:e,labelClassName:s,avatarSize:n="md"}){return a.jsxs("div",{className:"flex items-center gap-12",children:[t&&a.jsx(pt,{size:n,className:"flex-shrink-0",src:t}),a.jsxs("div",{className:"min-w-0 overflow-hidden",children:[a.jsx("div",{className:E(s,"overflow-hidden overflow-ellipsis"),children:r}),e&&a.jsx("div",{className:"overflow-hidden overflow-ellipsis text-xs text-muted",children:e})]})]})}function ps({labelClassName:t,showDescription:r}){return a.jsxs("div",{className:"flex w-full max-w-4/5 items-center gap-12",children:[a.jsx(le,{size:"w-40 h-40 md:w-32 md:h-32",variant:"rect"}),a.jsxs("div",{className:"flex-auto",children:[a.jsx("div",{className:E(t,"leading-3"),children:a.jsx(le,{})}),r&&a.jsx("div",{className:"mt-4 leading-3 text-muted",children:a.jsx(le,{})})]})]})}const Ct=t=>(r,e,s)=>{const n=s.subscribe;return s.subscribe=(i,l,u)=>{let f=i;if(l){const d=(u==null?void 0:u.equalityFn)||Object.is;let h=i(s.getState());f=g=>{const p=i(g);if(!d(h,p)){const v=h;l(h=p,v)}},u!=null&&u.fireImmediately&&l(h,h)}return n(f)},t(r,e,s)},bs=Ct;function vs(t){const r=m.useRef();return m.useEffect(()=>{r.current=t},[t]),r.current}function Tt(t){const{size:r="md",inline:e,label:s,showValueLabel:n=!!s,className:o,width:i="w-full",slider:l,children:u,trackColor:f="primary",fillColor:d="primary"}=t,{domProps:h,trackRef:g,getThumbPercent:p,getThumbValueLabel:v,labelId:I,groupId:j,thumbIds:S,isDisabled:w,numberFormatter:b,minValue:N,maxValue:y,step:R,values:M,getValueLabel:C}=l;let _="",P=Math.max([...b.format(N)].length,[...b.format(y)].length,[...b.format(R)].length);C?_=C(M[0]):M.length===1?_=v(0):M.length===2&&(_=`${v(0)} – ${v(1)}`,P=3+2*Math.max(P,[...b.format(N)].length,[...b.format(y)].length));const L=it({size:r,disabled:w,labelDisplay:"flex"}),H=E("touch-none",o,i,{"flex items-center":e});return a.jsxs("div",{className:H,role:"group",id:j,children:[(s||n)&&a.jsxs("div",{className:E(L.label,"select-none"),children:[s&&a.jsx("label",{onClick:()=>{var A;(A=document.getElementById(S[0]))==null||A.focus()},id:I,htmlFor:j,children:s}),n&&a.jsx("output",{htmlFor:S[0],className:"ml-auto text-right","aria-live":"off",style:P?{width:`${P}ch`,minWidth:`${P}ch`}:void 0,children:_})]}),a.jsxs("div",{ref:g,className:E("relative",zt(t)),...h,role:"presentation",children:[a.jsx("div",{className:E("absolute inset-0 m-auto rounded",kt(f,w),Ce(r))}),a.jsx("div",{className:E("absolute inset-0 my-auto rounded",Ot(d,w),Ce(r)),style:{width:`${Math.max(p(0)*100,0)}%`}}),u]})]})}function zt({size:t,wrapperHeight:r}){if(r)return r;switch(t){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function Ce(t){switch(t){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function kt(t,r){switch(r&&(t="disabled"),t){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return t}}function Ot(t,r){switch(r&&(t="disabled"),t){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return t}}function Pt({minValue:t=0,maxValue:r=100,isDisabled:e=!1,step:s=1,formatOptions:n,onChangeEnd:o,onPointerDown:i,label:l,getValueLabel:u,showThumbOnHoverOnly:f,thumbSize:d,onPointerMove:h,...g}){const[p,v]=m.useState(!1),I=at(n),{addGlobalListener:j,removeGlobalListener:S}=Ke(),w=m.useRef(null),[b,N]=ee(g.value?g.value:void 0,g.defaultValue??[t],g.onChange),y=m.useRef(null);y.current=b;const[R,M]=m.useState(new Array(b.length).fill(!1)),C=m.useRef(null);C.current=R;function _(c){return I.format(c)}const P=c=>{var x;return((x=C.current)==null?void 0:x[c])||!1},L=(document.dir??"ltr")=="rtl",H=c=>_(b[c]),A=c=>c===0?t:b[c-1],B=c=>c===b.length-1?r:b[c+1],$=(c,x)=>{if(e||!oe(c)||!y.current)return;const F=A(c),O=B(c);x=vt(x,F,O,s),y.current=Te(y.current,c,x),N(y.current)},K=(c,x)=>{var O;if(e||!oe(c))return;const F=(O=C.current)==null?void 0:O[c];C.current=Te(C.current||[],c,x),M(C.current),o&&F&&!C.current.some(Boolean)&&o(y.current||[])},[Y,V]=m.useState(void 0),re=c=>{const x=Math.min(1,(c-t)/(r-t));return isNaN(x)?0:x},q=c=>re(y.current[c]),T=(c,x)=>{$(c,ve(x))},qe=c=>Math.round((c-t)/s)*s+t,ve=c=>{const x=c*(r-t)+t;return we(qe(x),t,r)},xe=m.useRef(new Array(b.length).fill(!0)),oe=c=>xe.current[c],We=(c,x)=>{xe.current[c]=x},z=m.useRef(null),ye=m.useRef(void 0),Ge=c=>{if(!(c.pointerType==="mouse"&&(c.button!==0||c.altKey||c.ctrlKey||c.metaKey))&&(i==null||i(),w.current&&!e&&b.every((x,F)=>!R[F]))){const x=w.current.offsetWidth,F=w.current.getBoundingClientRect().left,O=c.clientX-F,J=L?1-O/x:O/x;console.log("useSlider handlePointerDown percent",{isRtl:L,offset:O,size:x,percent:J});const X=ve(J);let D;const U=b.findIndex(ae=>X-ae<0);if(U===0)D=U;else if(U===-1)D=b.length-1;else{const ae=b[U-1],et=b[U];Math.abs(ae-X)<Math.abs(et-X)?D=U-1:D=U}D>=0&&oe(D)?(c.preventDefault(),z.current=D,V(D),ye.current=c.pointerId,K(z.current,!0),$(D,X),j(window,"pointerup",Ie,!1)):z.current=null}},W=m.useRef(null),{domProps:Qe}=bt({onPointerDown:Ge,onMoveStart(){W.current=null},onMove(c,x){var O;const F=((O=w.current)==null?void 0:O.offsetWidth)||0;if(W.current==null&&(W.current=q(z.current||0)*F),W.current+=x*(L?-1:1),z.current!=null&&w.current){const J=we(W.current/F,0,1);T(z.current,J)}},onMoveEnd(){z.current!=null&&(K(z.current,!1),z.current=null)}}),Ye=Pe(Qe,{onPointerEnter:()=>{v(!0)},onPointerLeave:()=>{v(!1)},onPointerMove:c=>{h==null||h(c)}}),Ie=c=>{c.pointerId===ye.current&&(z.current!=null&&(K(z.current,!1),z.current=null),S(window,"pointerup",Ie,!1))},ie=m.useId(),Je=l?`${ie}-label`:void 0,Xe=`${ie}-group`,Ze=[...Array(b.length)].map((c,x)=>`${ie}-thumb-${x}`);return{domProps:Ye,trackRef:w,isDisabled:e,step:s,values:b,minValue:t,maxValue:r,focusedThumb:Y,labelId:Je,groupId:Xe,thumbIds:Ze,numberFormatter:I,getThumbPercent:q,getThumbMinValue:A,getThumbMaxValue:B,getThumbValueLabel:H,isThumbDragging:P,setThumbValue:$,updateDraggedThumbs:K,setThumbEditable:We,setFocusedThumb:V,getValueLabel:u,isPointerOver:p,showThumbOnHoverOnly:f,thumbSize:d}}function Te(t,r,e){return t[r]===e?t:[...t.slice(0,r),e,...t.slice(r+1)]}function Ft({index:t,slider:r,isDisabled:e,ariaLabel:s,inputRef:n,onBlur:o,fillColor:i="primary"}){const l=lt(n),{addGlobalListener:u,removeGlobalListener:f}=Ke(),{step:d,values:h,focusedThumb:g,labelId:p,thumbIds:v,isDisabled:I,getThumbPercent:j,getThumbMinValue:S,getThumbMaxValue:w,getThumbValueLabel:b,setThumbValue:N,updateDraggedThumbs:y,isThumbDragging:R,setThumbEditable:M,setFocusedThumb:C,isPointerOver:_,showThumbOnHoverOnly:P,thumbSize:L="w-18 h-18"}=r,H=R(t),A=h[t];M(t,!e);const B=e||I,$=m.useCallback(()=>{l.current&&l.current.focus({preventScroll:!0})},[l]),K=g===t;m.useEffect(()=>{K&&$()},[K,$]);const Y=m.useRef(void 0),V=T=>{T.pointerId===Y.current&&($(),y(t,!1),f(window,"pointerup",V,!1))},re=E("outline-none rounded-full top-1/2 -translate-y-1/2 absolute inset-0 transition-button duration-200",document.dir=="rtl"?"translate-x-1/2":"-translate-x-1/2",L,!B&&"shadow-md",Nt({fillColor:i,isDisabled:B,isDragging:H}),!P||P&&H||_?"visible":"invisible"),q={};return q[document.dir=="rtl"?"right":"left"]=`${Math.max(j(t)*100,0)}%`,a.jsx("div",{role:"presentation",className:re,style:q,onPointerDown:T=>{T.button!==0||T.altKey||T.ctrlKey||T.metaKey||($(),Y.current=T.pointerId,y(t,!0),u(window,"pointerup",V,!1))},children:a.jsx("input",{id:v[t],onKeyDown:je(()=>{y(t,!0)}),onKeyUp:je(()=>{y(t,!1)}),ref:l,tabIndex:B?void 0:0,min:S(t),max:w(t),step:d,value:A,disabled:B,"aria-label":s,"aria-labelledby":p,"aria-orientation":"horizontal","aria-valuetext":b(t),onFocus:()=>{C(t)},onBlur:T=>{C(void 0),y(t,!1),o==null||o(T)},onChange:T=>{N(t,parseFloat(T.target.value))},type:"range",className:"sr-only"})})}function Nt({isDisabled:t,isDragging:r,fillColor:e}){return t?"bg-slider-disabled cursor-default":e&&e!=="primary"?e:E("hover:bg-primary-dark",r?"bg-primary-dark":"bg-primary")}function Dt({inputRef:t,onBlur:r,...e}){const{onChange:s,onChangeEnd:n,value:o,defaultValue:i,...l}=e,u={...l,value:o!=null?[o]:void 0,defaultValue:i!=null?[i]:void 0,onChange:d=>{s==null||s(d[0])},onChangeEnd:d=>{n==null||n(d[0])}},f=Pt(u);return a.jsx(Tt,{...u,slider:f,children:a.jsx(Ft,{fillColor:e.fillColor,index:0,slider:f,inputRef:t,onBlur:r})})}function xs({name:t,...r}){const{field:{onChange:e,onBlur:s,value:n="",ref:o}}=ct({name:t}),i={onChange:e,onBlur:s,value:n||""};return a.jsx(Dt,{inputRef:o,...Pe(i,r)})}const ys="user",Is=Q(a.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined"),Ss={discography:1,similar:2,about:3,tracks:4,albums:5,followers:6};function G(t,r,e){let s=e.initialDeps??[],n;return()=>{var o,i,l,u;let f;e.key&&((o=e.debug)!=null&&o.call(e))&&(f=Date.now());const d=t();if(!(d.length!==s.length||d.some((p,v)=>s[v]!==p)))return n;s=d;let g;if(e.key&&((i=e.debug)!=null&&i.call(e))&&(g=Date.now()),n=r(...d),e.key&&((l=e.debug)!=null&&l.call(e))){const p=Math.round((Date.now()-f)*100)/100,v=Math.round((Date.now()-g)*100)/100,I=v/16,j=(S,w)=>{for(S=String(S);S.length<w;)S=" "+S;return S};console.info(`%c⏱ ${j(v,5)} /${j(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*I,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(u=e==null?void 0:e.onChange)==null||u.call(e,n),n}}function ue(t,r){if(t===void 0)throw new Error(`Unexpected undefined${r?`: ${r}`:""}`);return t}const Rt=(t,r)=>Math.abs(t-r)<1,_t=(t,r)=>{let e;return function(...s){clearTimeout(e),e=setTimeout(()=>t.apply(this,s),r)}},$t=t=>t,Lt=t=>{const r=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),s=[];for(let n=r;n<=e;n++)s.push(n);return s},At=(t,r)=>{const e=t.scrollElement;if(!e)return;const s=o=>{const{width:i,height:l}=o;r({width:Math.round(i),height:Math.round(l)})};if(s(e.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const n=new ResizeObserver(o=>{const i=o[0];if(i!=null&&i.borderBoxSize){const l=i.borderBoxSize[0];if(l){s({width:l.inlineSize,height:l.blockSize});return}}s(e.getBoundingClientRect())});return n.observe(e,{box:"border-box"}),()=>{n.unobserve(e)}},ze={passive:!0},Bt=typeof window>"u"?!0:"onscrollend"in window,Kt=(t,r)=>{const e=t.scrollElement;if(!e)return;let s=0;const n=Bt?()=>{}:_t(()=>{r(s,!1)},t.options.isScrollingResetDelay),o=u=>()=>{s=e[t.options.horizontal?"scrollLeft":"scrollTop"],n(),r(s,u)},i=o(!0),l=o(!1);return l(),e.addEventListener("scroll",i,ze),e.addEventListener("scrollend",l,ze),()=>{e.removeEventListener("scroll",i),e.removeEventListener("scrollend",l)}},Ut=(t,r,e)=>{if(r!=null&&r.borderBoxSize){const s=r.borderBoxSize[0];if(s)return Math.round(s[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[e.options.horizontal?"width":"height"])},Ht=(t,{adjustments:r=0,behavior:e},s)=>{var n,o;const i=t+r;(o=(n=s.scrollElement)==null?void 0:n.scrollTo)==null||o.call(n,{[s.options.horizontal?"left":"top"]:i,behavior:e})};class Vt{constructor(r){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let e=null;const s=()=>e||(typeof ResizeObserver<"u"?e=new ResizeObserver(n=>{n.forEach(o=>{this._measureElement(o.target,o)})}):null);return{disconnect:()=>{var n;return(n=s())==null?void 0:n.disconnect()},observe:n=>{var o;return(o=s())==null?void 0:o.observe(n,{box:"border-box"})},unobserve:n=>{var o;return(o=s())==null?void 0:o.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([s,n])=>{typeof n>"u"&&delete e[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$t,rangeExtractor:Lt,onChange:()=>{},measureElement:Ut,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...e}},this.notify=(e,s)=>{var n,o;const{startIndex:i,endIndex:l}=this.range??{startIndex:void 0,endIndex:void 0},u=this.calculateRange();(e||i!==(u==null?void 0:u.startIndex)||l!==(u==null?void 0:u.endIndex))&&((o=(n=this.options).onChange)==null||o.call(n,this,s))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const e=this.options.getScrollElement();this.scrollElement!==e&&(this.cleanup(),this.scrollElement=e,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(s,n)=>{this.scrollAdjustments=0,this.scrollDirection=n?this.scrollOffset<s?"forward":"backward":null,this.scrollOffset=s;const o=this.isScrolling;this.isScrolling=n,this.notify(o!==n,n)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=G(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(e,s,n,o)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:s,scrollMargin:n,getItemKey:o}),{key:!1}),this.getFurthestMeasurement=(e,s)=>{const n=new Map,o=new Map;for(let i=s-1;i>=0;i--){const l=e[i];if(n.has(l.lane))continue;const u=o.get(l.lane);if(u==null||l.end>u.end?o.set(l.lane,l):l.end<u.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurements=G(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:s,scrollMargin:n,getItemKey:o},i)=>{const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let f=l;f<e;f++){const d=o(f),h=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),g=h?h.end+this.options.gap:s+n,p=i.get(d),v=typeof p=="number"?p:this.options.estimateSize(f),I=g+v,j=h?h.lane:f%this.options.lanes;u[f]={index:f,start:g,size:v,end:I,key:d,lane:j}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=G(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(e,s,n)=>this.range=e.length>0&&s>0?qt({measurements:e,outerSize:s,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=G(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,s,n,o)=>s===null?[]:e({startIndex:s.startIndex,endIndex:s.endIndex,overscan:n,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const s=this.options.indexAttribute,n=e.getAttribute(s);return n?parseInt(n,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(e,s)=>{const n=this.measurementsCache[this.indexFromElement(e)];if(!n||!e.isConnected){this.measureElementCache.forEach((l,u)=>{l===e&&(this.observer.unobserve(e),this.measureElementCache.delete(u))});return}const o=this.measureElementCache.get(n.key);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.measureElementCache.set(n.key,e));const i=this.options.measureElement(e,s,this);this.resizeItem(n,i)},this.resizeItem=(e,s)=>{const n=this.itemSizeCache.get(e.key)??e.size,o=s-n;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(e,o,this):e.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,s)),this.notify(!0,!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=G(()=>[this.getIndexes(),this.getMeasurements()],(e,s)=>{const n=[];for(let o=0,i=e.length;o<i;o++){const l=e[o],u=s[l];n.push(u)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const s=this.getMeasurements();return ue(s[He(0,s.length-1,n=>ue(s[n]).start,e)])},this.getOffsetForAlignment=(e,s)=>{const n=this.getSize();s==="auto"&&(e<=this.scrollOffset?s="start":e>=this.scrollOffset+n?s="end":s="start"),s==="start"?e=e:s==="end"?e=e-n:s==="center"&&(e=e-n/2);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-this.getSize();return Math.max(Math.min(l,e),0)},this.getOffsetForIndex=(e,s="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=ue(this.getMeasurements()[e]);if(s==="auto")if(n.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)s="end";else if(n.start<=this.scrollOffset+this.options.scrollPaddingStart)s="start";else return[this.scrollOffset,s];const o=s==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,s),s]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:s="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,s),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:s="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[o,i]=this.getOffsetForIndex(e,s);this._scrollToOffset(o,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(e))){const[u]=this.getOffsetForIndex(e,i);Rt(u,this.scrollOffset)||this.scrollToIndex(e,{align:i,behavior:n})}else this.scrollToIndex(e,{align:i,behavior:n})}))},this.scrollBy=(e,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var e;const s=this.getMeasurements();let n;return s.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((e=s[s.length-1])==null?void 0:e.end)??0:Math.max(...s.slice(-this.options.lanes).map(o=>o.end)),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:s,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:s},this)},this.measure=()=>{var e,s;this.itemSizeCache=new Map,(s=(e=this.options).onChange)==null||s.call(e,this,!1)},this.setOptions(r),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}),this.notify(!1,!1)}}const He=(t,r,e,s)=>{for(;t<=r;){const n=(t+r)/2|0,o=e(n);if(o<s)t=n+1;else if(o>s)r=n-1;else return n}return t>0?t-1:0};function qt({measurements:t,outerSize:r,scrollOffset:e}){const s=t.length-1,o=He(0,s,l=>t[l].start,e);let i=o;for(;i<s&&t[i].end<e+r;)i++;return{startIndex:o,endIndex:i}}const Wt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Gt(t){const r=m.useReducer(()=>({}),{})[1],e={...t,onChange:(n,o)=>{var i;o?ut.flushSync(r):r(),(i=t.onChange)==null||i.call(t,n,o)}},[s]=m.useState(()=>new Vt(e));return s.setOptions(e),m.useEffect(()=>s._didMount(),[]),Wt(()=>s._willUpdate()),s}function ws(t){return Gt({observeElementRect:At,observeElementOffset:Kt,scrollToFn:Ht,...t})}function js(t){const{close:r}=de(),{image:e,images:s}=t,[n,o]=ee(t.activeIndex,t.defaultActiveIndex,t.onActiveIndexChange),i=e||(s==null?void 0:s[n]);return a.jsx(he,{size:"fullscreenTakeover",background:"bg-black/80",children:a.jsxs(me,{padding:"p-0",className:"h-full w-full",children:[a.jsx(ce,{size:"lg",color:"paper",className:"absolute right-0 top-0 z-20 text-white",onClick:()=>{r()},children:a.jsx(dt,{})}),a.jsxs("div",{className:"relative flex h-full w-full items-center justify-center p-40",children:[s!=null&&s.length?a.jsx(ce,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 left-20 top-0 my-auto",disabled:n<1,onClick:()=>{o(n-1)},children:a.jsx(xt,{})}):null,a.jsx("img",{src:i,alt:"",className:"max-h-full w-auto object-contain shadow"}),s!=null&&s.length?a.jsx(ce,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 right-20 top-0 my-auto",disabled:n+1===(s==null?void 0:s.length),onClick:()=>{o(n+1)},children:a.jsx(yt,{})}):null]})]})})}const Es=Q(a.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),Ms="artist",Cs="track";function Ts({genre:t,className:r,...e}){const s=m.useMemo(()=>Qt(t),[t]);return a.jsx(Fe,{...e,className:E("block outline-none first-letter:capitalize hover:underline focus-visible:underline",r),to:s,children:t.display_name||t.name})}function Qt(t,{absolute:r}={}){let s=`/genre/${Ne(t.name)}`;return r&&(s=`${fe().settings.base_url}${s}`),s}function zs({playlist:t,className:r}){const e=m.useMemo(()=>Yt(t),[t.id]);return a.jsx(Fe,{className:E("capitalize hover:underline",r),to:e,children:t.name})}function Yt(t,{absolute:r}={}){const e=Ne(t.name);let s=`/playlist/${t.id}/${e}`;return r&&(s=`${fe().settings.base_url}${s}`),s}const Jt=Q(a.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined");function Ve(){const{trans:t}=ht();return a.jsxs(m.Fragment,{children:[a.jsxs("div",{className:"md:flex gap-28",children:[a.jsx(mt,{children:a.jsx(ft,{name:"image",diskPrefix:"playlist_media",variant:"square",previewSize:"w-160 h-160",className:"mb-24 md:mb-0",placeholderIcon:a.jsx(Jt,{}),showRemoveButton:!0,stretchPreview:!0})}),a.jsxs("div",{className:"flex-auto mb-34",children:[a.jsx(Ee,{autoFocus:!0,name:"name",label:a.jsx(k,{message:"Name"}),className:"mb-24"}),a.jsx(Me,{name:"collaborative",description:a.jsx(k,{message:"Invite other users to add tracks."}),className:"mb-24",children:a.jsx(k,{message:"Collaborative"})}),a.jsx(Me,{name:"public",description:a.jsx(k,{message:"Everyone can see public playlists."}),children:a.jsx(k,{message:"Public"})})]})]}),a.jsx(Ee,{name:"description",label:a.jsx(k,{message:"Description"}),inputElementType:"textarea",rows:4,placeholder:t(se("Give your playlist a catchy description."))})]})}function Xt({form:t,playlistId:r}={}){const e=ge();return e.playlistId&&!r&&(r=e.playlistId),pe({mutationFn:s=>Zt(r,s),onSuccess:()=>{be(se("Playlist updated")),De.invalidateQueries({queryKey:["playlists"]})},onError:s=>t?Re(s,t):_e(s)})}function Zt(t,r){return ne.put(`playlists/${t}`,r).then(e=>e.data)}function ks({playlist:t}){const{close:r,formId:e}=de(),s=$e({defaultValues:{name:t.name,public:t.public,collaborative:t.collaborative,image:t.image,description:t.description}}),n=Xt({form:s,playlistId:t.id});return a.jsxs(he,{size:"xl",children:[a.jsx(Le,{children:a.jsx(k,{message:"Update playlist"})}),a.jsx(me,{children:a.jsx(Ae,{id:e,form:s,onSubmit:o=>{n.mutate(o,{onSuccess:i=>{r(i.playlist)}})},children:a.jsx(Ve,{})})}),a.jsxs(Be,{children:[a.jsx(te,{onClick:()=>r(),children:a.jsx(k,{message:"Cancel"})}),a.jsx(te,{form:e,type:"submit",variant:"flat",color:"primary",disabled:n.isPending,children:a.jsx(k,{message:"Update"})})]})]})}function es(t){return pe({mutationFn:r=>ts(r),onSuccess:()=>{be(se("Playlist created")),De.invalidateQueries({queryKey:["playlists"]})},onError:r=>Re(r,t)})}function ts(t){return ne.post("playlists",t).then(r=>r.data)}function Os(){const{close:t,formId:r}=de(),e=$e(),s=es(e);return a.jsxs(he,{size:"xl",children:[a.jsx(Le,{children:a.jsx(k,{message:"New playlist"})}),a.jsx(me,{children:a.jsx(Ae,{id:r,form:e,onSubmit:n=>{s.mutate(n,{onSuccess:o=>{t(o.playlist)}})},children:a.jsx(Ve,{})})}),a.jsxs(Be,{children:[a.jsx(te,{onClick:()=>t(),children:a.jsx(k,{message:"Cancel"})}),a.jsx(te,{form:r,type:"submit",variant:"flat",color:"primary",disabled:s.isPending,children:a.jsx(k,{message:"Create"})})]})]})}const Ps="playlist";function Fs(){return pe({mutationFn:t=>ss(t),onSuccess:(t,r)=>{be(se("[one Comment deleted|other Deleted :count comments]",{values:{count:r.commentIds.length}}))},onError:t=>_e(t)})}function ss({commentIds:t}){return ne.delete(`comment/${t.join(",")}`).then(r=>r.data)}const Ns=Q(a.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"}),"TrendingUpOutlined"),Ds="channel",Rs=Q(a.jsx("path",{d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridViewOutlined");function _s(){return ke("((pointer: coarse))")}function ns(t,r){const e=ge(),[s]=Oe(),{encodedFilters:n}=Mt(),o={...r,restriction:e.restriction||"",order:s.get("order"),[Z]:n,paginate:"simple"};return!o.order&&t&&(o.order=t.config.contentOrder||"popularity:desc"),o}function $s(t,r,e){const s=ge(),n=t||s.slugOrId,o=ns(void 0,e);return gt({queryKey:rs(n,{restriction:o.restriction}),queryFn:()=>is(n,{...o,loader:r}),initialData:()=>{var f,d;const i=(f=fe().loaders)==null?void 0:f[r],l=(i==null?void 0:i.channel.id)==n||(i==null?void 0:i.channel.slug)==n,u=!o.restriction||((d=i==null?void 0:i.channel.restriction)==null?void 0:d.name)===o.restriction;if(l&&u)return i}})}function rs(t,r){return["channel",`${t}`,r]}function os(t){return`channel/${t}`}function is(t,r={}){return ne.get(os(t),{params:r}).then(e=>e.data)}export{Ms as A,Z as B,Os as C,Ue as D,hs as E,xs as F,Ts as G,ps as H,js as I,Kt as J,Pt as K,Is as M,gs as N,Es as P,Dt as S,Cs as T,ys as U,cs as a,ds as b,us as c,fs as d,vs as e,Ss as f,ws as g,ms as h,Ps as i,zs as j,ks as k,Fs as l,Ns as m,Ds as n,Rs as o,Jt as p,_s as q,$s as r,bs as s,Yt as t,Mt as u,Qt as v,Xt as w,ns as x,rs as y,os as z};
//# sourceMappingURL=use-channel-b1926ccd.js.map
