import{r as h,bT as N,a as D,j as a,c as M,o as j,R as V,aH as F,I as X,aI as q,g as K,U as H,W as T,m as S,X as W,Y as B}from"./main-96dd97cc.js";import{$ as L}from"./Edit-7d871963.js";import{M as P}from"./MoreHoriz-66f9bc73.js";function U(t){let[e,n]=h.useState(t),s=h.useRef(null),u=L(()=>{if(!s.current)return;let r=s.current.next();if(r.done){s.current=null;return}e===r.value?u():n(r.value)});N(()=>{s.current&&u()});let l=L(r=>{s.current=r(e),u()});return[e,l]}function Y(){return typeof window.ResizeObserver<"u"}function G(t){const{ref:e,onResize:n}=t;h.useEffect(()=>{let s=e==null?void 0:e.current;if(s)if(Y()){const u=new window.ResizeObserver(l=>{l.length&&n()});return u.observe(s),()=>{s&&u.unobserve(s)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,e])}const J=D(a.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"}),"ChevronRightOutlined",void 0,!0);function Q(t){const{isCurrent:e,sizeStyle:n,isMenuTrigger:s,isClickable:u,isDisabled:l,onSelected:r,className:y,isMenuItem:p,isLink:i}=t,g=typeof t.children=="function"?t.children({isMenuItem:p}):t.children;if(p)return g;const x=s?{}:{tabIndex:i&&!l?0:void 0,role:i?"link":void 0,"aria-disabled":i?l:void 0,"aria-current":e&&i?"page":void 0,onClick:()=>r==null?void 0:r()};return a.jsxs("li",{className:M(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start ${n==null?void 0:n.font}`,(!u||l)&&"pointer-events-none",!e&&l&&"text-disabled"),children:[a.jsx("div",{...x,className:M(y,"cursor-pointer overflow-hidden whitespace-nowrap rounded px-8",!s&&"py-4 hover:bg-hover",!s&&i&&"outline-none focus-visible:ring"),children:g}),e===!1&&a.jsx(J,{size:n==null?void 0:n.icon,className:M(l?"text-disabled":"text-muted")})]})}const Z=1,ee=10;function ae(t){const{size:e="md",children:n,isDisabled:s,className:u,currentIsClickable:l,isNavigation:r}=t,{trans:y}=j(),p=te(e),i=[];V.Children.forEach(n,o=>{V.isValidElement(o)&&i.push(o)});const g=h.useRef(null),x=h.useRef(null),[E,z]=U(i.length),C=h.useCallback(()=>{const o=f=>{var k;const d=x.current;if(!d)return;const c=Array.from(d.children);if(!c.length)return;const v=d.offsetWidth,w=i.length>f;let m=0,b=0,R=ee;if(m+=c.shift().offsetWidth,b++,w&&(m+=((k=c.shift())==null?void 0:k.offsetWidth)??0,R--),m>=v&&b--,c.length>0){const $=c.pop();$.style.overflow="visible",m+=$.offsetWidth,m<v&&b++,$.style.overflow=""}for(const $ of c.reverse())m+=$.offsetWidth,m<v&&b++;return Math.max(Z,Math.min(R,b))};z(function*(){yield i.length;const f=o(i.length);yield f,f<i.length&&f>1&&(yield o(f))})},[x,n,z]);G({ref:g,onResize:C}),N(C,[n]);let I=i;if(i.length>E){const o=i.length-1;I=[a.jsx(Q,{sizeStyle:p,isMenuTrigger:!0,children:a.jsxs(F,{selectionMode:"single",selectedValue:o,children:[a.jsx(X,{"aria-label":"â€¦",disabled:s,size:p.btn,children:a.jsx(P,{})}),a.jsx(q,{children:i.map((v,w)=>{const m=o===w;return a.jsx(K,{value:w,onSelected:()=>{var b,R;m||(R=(b=v.props).onSelected)==null||R.call(b)},children:h.cloneElement(v,{isMenuItem:!0})},w)})})]})},"menu")];const d=[...i];let c=E;E>1&&(I.unshift(d.shift()),c--),I.push(...d.slice(-c))}const O=I.length-1,_=I.map((o,f)=>{const d=f===O,c=!d||l;return h.cloneElement(o,{key:o.key||f,isCurrent:d,sizeStyle:p,isClickable:c,isDisabled:s,isLink:r&&o.key!=="menu"})}),A=r?"nav":"div";return a.jsx(A,{className:M(u,"w-full min-w-0"),"aria-label":y({message:"Breadcrumbs"}),ref:g,children:a.jsx("ol",{ref:x,className:M("flex flex-nowrap justify-start",p.minHeight),children:_})})}function te(t){switch(t){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"md",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"md",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"md",btn:"md",minHeight:"min-h-42"}}}function le(){const{trans:t}=j();return H({mutationFn:e=>ne(e),onSuccess:(e,n)=>{T(n.delete?t(S("Subscription deleted.")):t(S("Subscription cancelled.")))},onError:e=>W(e)})}function ne({subscriptionId:t,...e}){return B.post(`billing/subscriptions/${t}/cancel`,e).then(n=>n.data)}function ce(){const{trans:t}=j();return H({mutationFn:e=>se(e),onSuccess:()=>{T(t(S("Subscription renewed.")))},onError:e=>W(e)})}function se({subscriptionId:t}){return B.post(`billing/subscriptions/${t}/resume`).then(e=>e.data)}export{ae as B,J as C,Q as a,ce as b,le as u};
//# sourceMappingURL=use-resume-subscription-0746a313.js.map
